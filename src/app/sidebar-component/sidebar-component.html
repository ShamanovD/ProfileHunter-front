<div class="sidebar-container">

  <div class="sidebar-section central-node-section">
    <h3 class="section-title">Start account</h3>
    <div class="user-card central" (click)="onUserClick(currentUser)">
      <div class="user-avatar">
        <img [src]="currentUser.image" alt="Аватар пользователя">
      </div>
      <div class="user-info">
        <div class="user-fullname">{{ (currentUser.firstName || '') + ' ' + (currentUser.lastName || '') }}</div>
        <div class="user-nickname">{{ currentUser.username }}</div>
        <div class="platform-name">{{ currentUser.sourceType }}</div>
      </div>
      <div class="platform-icon">
        <img
          [src]="SourceTypeMap[currentUser.sourceType].iconLink"
          alt="Аватар пользователя"
          width="24px"
          height="24px">
      </div>
    </div>
  </div>

  <div class="sidebar-section linked-nodes-section">
    <h3 class="section-title">Found accounts</h3>
    <ul class="user-list">
      @for (linkedUser of linkedUsers; track linkedUser) {
        <li class="user-card" (click)="onUserClick(linkedUser)">
          <div class="user-avatar">
            <img [src]="linkedUser.image" alt="Аватар пользователя">
          </div>
          <div class="user-info">
            <div class="user-fullname">{{ (linkedUser.firstName || '') + ' ' + (linkedUser.lastName || '') }}</div>
            <div class="user-nickname">{{ linkedUser.username }}</div>
            <div class="platform-name">{{ linkedUser.sourceType }}</div>
          </div>
          <div class="platform-icon">
            <div class="platform-icon">
              <img
                [src]="SourceTypeMap[linkedUser.sourceType].iconLink"
                alt="Аватар пользователя"
                width="24px"
                height="24px">
            </div>
          </div>
        </li>
      }
    </ul>
  </div>

</div>
